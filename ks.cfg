#Generated by Kickstart Configurator
#platform=x86

#System language
lang en_US
#Language modules to install
langsupport en_US
#System keyboard
keyboard us
#System mouse
mouse
#System timezone
timezone America/Los_Angeles
#Root password
rootpw --disabled
#Initial user
user reverse --fullname "reverse" --iscrypted --password $1$v2g5bNN3$0EezhnnwERByGrldvF3nX/
#Reboot after installation
reboot
#Use text mode install
text
#Install OS instead of upgrade
install
#Use CDROM installation media
cdrom
#System bootloader configuration
bootloader --location=mbr 
#Clear the Master Boot Record
zerombr yes
#Partition clearing information
clearpart --all --initlabel 
#System authorization infomation
auth  --useshadow  --enablemd5 
#Network information
network --bootproto=dhcp --device=eth0
#Firewall configuration
firewall --disabled --ssh 
#Do not configure the X Window System
skipx

# Additional packages to install
%packages

# graphical stuff
ubuntu-desktop
unity

# essentials
git
vim
python
python3
python-pip
python3-pip
virtualenvwrapper
openssh-server

# ghidra
docker
libssl-dev
libffi-dev
build-essential

# misc useful tools
binwalk
nmap
arp-scan
wireshark
curl
virtualbox

# Add your custom post installation script here
%post --interpreter=/bin/bash

# Enable serial console so virsh can connect to the console
systemctl enable serial-getty@ttyS0.service
systemctl start serial-getty@ttyS0.service

# Add post installation script to /usr/local/bin/ directory
apt -f -y install
apt -y autoremove
apt clean

# Preseed commands
# Unmount drives with active partitions. Without this command all the installation process would stop and require confirmation to unmount drives that are already mounted.
d-i preseed/early_command string umount /media || true

# Don't install recommended items
d-i preseed base-installer/install-recommends boolean false

# Install only security updates automatically
d-i preseed pkgsel/update-policy select unattended-upgrades
